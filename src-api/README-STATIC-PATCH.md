# Static Code Examples Patch for OpenAPI Spec

This patch file contains all the code examples that were generated by the `snippet-enricher-cli` tool, but in a static format that can be applied without needing the tool.

## Files Created

1. `openapi-code-examples-static-patch.json` - The main patch file (207KB)
2. `openapi-fresh.json` - Fresh OpenAPI spec from CircleCI API
3. `openapi-fresh-with-examples.json` - The enriched version with examples
4. `test-patched-spec.json` - Test result showing the patch works

## How to Use the Static Patch

Instead of running:
```bash
./node_modules/.bin/snippet-enricher-cli --targets="node_request,python_python3,go_native,shell_curl" --input=openapi.json > openapi-with-examples.json
```

You can now do:
```bash
# Fetch fresh spec
curl https://circleci.com/api/v2/openapi.json > openapi.json
# Apply static patch
jq -s '.[0] * .[1]' openapi.json openapi-code-examples-static-patch.json > openapi-with-examples.json
```

## What the Patch Contains

The patch contains 101 x-codeSamples entries for various API endpoints, each with examples in:
- Node + Request
- Python + Python3 
- Go + Native
- Shell + Curl

## Integration with Your Build Script

You can update your build script (`build_api_docs.sh`) to replace line 26:
```bash
# OLD (abandonware dependency):
./node_modules/.bin/snippet-enricher-cli --targets="node_request,python_python3,go_native,shell_curl" --input=openapi.json > openapi-with-examples.json

# NEW (static patch):
jq -s '.[0] * .[1]' openapi.json openapi-code-examples-static-patch.json > openapi-with-examples.json
```

## Benefits

1. **No more abandonware dependency** - Remove snippet-enricher-cli from package.json
2. **Faster builds** - No need to process the entire spec through the enricher
3. **Consistent results** - Static patch ensures identical output every time
4. **Easy to maintain** - Update the patch file when you need to add/modify examples

## Updating the Patch

If you need to update the patch file with new examples, you can:
1. Temporarily reinstall snippet-enricher-cli
2. Generate fresh examples: `./node_modules/.bin/snippet-enricher-cli --targets="node_request,python_python3,go_native,shell_curl" --input=openapi.json > openapi-temp-with-examples.json`
3. Recreate the patch using the same jq command used to create this patch
4. Replace the old patch file with the new one

Created: $(date)
